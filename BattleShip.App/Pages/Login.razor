@page "/Login"
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication
@inject NavigationManager Navigation
@inject IAccessTokenProvider TokenProvider
<h3>Login</h3>
<button @onclick="OnLoginClicked">Se connecter</button>

@code {

    private async Task OnLoginClicked()
    {
        var result = await TokenProvider.RequestAccessToken();
        if (result.TryGetToken(out var token))
        {
            Console.WriteLine("Token reçu : " + token.Value);
            Navigation.NavigateTo("/");
        }
        else
        {
            Navigation.NavigateTo("authentication/login");
        }
    }

}